아래는 qcow2 파일의 백업 및 복구 절차에 대한 요약입니다.

### 백업 및 복구 절차

#### 1. 백업 조건
- **VM 상태**: VM이 꺼진 상태(Shutoff)에서 qcow2 파일을 복사해야 데이터 일관성이 보장됩니다.
- **위험**: VM이 실행 중일 때 복사하면 파일 시스템이 불일치하거나 손상될 수 있습니다.

#### 2. 복구(복원) 절차
1. **서버 OS 재설치 및 KVM/Libvirt 환경 재구성**
   - libvirt, qemu 등 가상화 환경을 기존과 동일하게 설치합니다.

2. **qcow2 파일 복사**
   - 백업해 두었던 `gpuvm1.qcow2` 파일을 `/var/lib/libvirt/images/` 등 원하는 위치에 다시 복사합니다.

3. **VM 정의 파일(xml) 복구**
   - 기존 VM의 정의 파일(`/etc/libvirt/qemu/gpuvm1.xml`)도 함께 백업했다면, `virsh define gpuvm1.xml` 명령으로 VM을 등록할 수 있습니다.
   - xml 파일이 없다면, `virt-manager`나 `virsh` 명령으로 새 VM을 만들고, 디스크로 기존 qcow2 파일을 지정합니다.

4. **VM 부팅**
   - VM을 정상적으로 부팅하면, 백업 당시의 상태로 복원됩니다.

#### 3. 주의사항 및 팁
- **정의 파일(xml)도 함께 백업**: VM의 하드웨어 구성, 네트워크, GPU 패스스루 등 설정이 xml에 저장되어 있으므로 반드시 qcow2와 함께 `/etc/libvirt/qemu/`의 xml 파일도 백업하는 것이 좋습니다.
- **환경 차이**: OS 재설치 후 libvirt UID/GID, 네트워크 등 환경이 달라지면 VM이 바로 부팅되지 않을 수 있습니다. 이 경우 xml을 수정하거나, `virt-manager`에서 수동으로 환경을 맞춰주면 됩니다.
- **qcow2 파일만 있으면 데이터 복구 가능**: VM 정의(xml)가 없어도 새 VM을 만들고 디스크로 지정하면 데이터 접근 및 복구가 가능합니다.

### 결론
- **VM이 꺼진 상태에서 qcow2 파일을 복사**해 두었다면, 서버 재설치 후 해당 파일을 다시 등록(혹은 새 VM 디스크로 지정)하여 **기존 정보와 상태 그대로 복구**할 수 있습니다.
- **정의 파일(xml)까지 백업**하면 VM 환경까지 완벽하게 복원할 수 있습니다.

### 백업 항목 및 복구 가능 범위
| 백업 항목         | 복구 가능 범위           | 비고                               |
|------------------|-----------------------|----------------------------------|
| qcow2 파일만      | 데이터(디스크) 복구     | 새 VM 생성 후 지정 필요            |
| qcow2 + xml 파일  | 전체 VM 환경 복구       | `virsh define`로 바로 등록        |

이 방법은 실제로 많은 KVM 사용자들이 활용하는 표준적인 백업/복구 방식입니다.
